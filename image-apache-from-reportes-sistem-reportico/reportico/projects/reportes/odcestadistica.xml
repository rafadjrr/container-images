<?xml version="1.0"?><Report><ReportQuery><Format><ReportTitle>Estado de las Ordenes de Compra</ReportTitle><ReportDescription>Reporte muestra el estado de las Ã³rdenes de compra aprobada y por aprobar. Las cantidades restantes para las ordenes aprobadas y el grupo al cual pertenecen (20 o 80)
</ReportDescription><PageSize>.DEFAULT</PageSize><PageOrientation>.DEFAULT</PageOrientation><TopMargin></TopMargin><BottomMargin></BottomMargin><RightMargin></RightMargin><LeftMargin></LeftMargin><AutoPaginate></AutoPaginate><PdfZoomFactor></PdfZoomFactor><HtmlZoomFactor></HtmlZoomFactor><PageTitleDisplay></PageTitleDisplay><PageLayout></PageLayout><pdfFont></pdfFont><pdfFontSize></pdfFontSize><PreExecuteCode>NONE</PreExecuteCode><formBetweenRows>solidline</formBetweenRows><gridDisplay>.DEFAULT</gridDisplay><gridSortable>.DEFAULT</gridSortable><gridSearchable>.DEFAULT</gridSearchable><gridPageable>.DEFAULT</gridPageable><gridPageSize>.DEFAULT</gridPageSize></Format><Datasource><SourceType>database</SourceType><SourceConnection><DatabaseType>mysql</DatabaseType><DatabaseName></DatabaseName><HostName></HostName><ServiceName></ServiceName><UserName></UserName><Password></Password></SourceConnection></Datasource><EntryForm><Query><TableSql></TableSql><WhereSql></WhereSql><GroupSql></GroupSql><RowSelection>all</RowSelection><SQL><QuerySql></QuerySql><SQLRaw>SELECT EN01FACT.CodMovimiento, 
       EN01FACT.Referencia,
       EN01FACT.FechaMov,
       EN01FACT.NombreClienteProveedor,
       EN01FACT.Estado,
       EN01FACT.FechaFirma,
       DT09FACT.FechaCompromiso, 
       DT09FACT.GrupoODC, 
       Sum((dt01fact.cantidad*dt01fact.preunitario)) AS TotalODC,
       Sum(( (dt01fact.cantidad-dt01fact.cantidadOrden) *dt01fact.preunitario)) AS TotalODCRest,
       Sum((dt03fact.preciounitario*dt03fact.cantidad )) AS totalOdcServicio,
       Sum((dt03fact.preciounitario*(dt03fact.cantidad - dt03fact.cantidadOrden) )) AS totalOdcServicioRest
       
FROM ((EN01FACT LEFT JOIN DT09FACT ON (EN01FACT.CodMovimiento = DT09FACT.CodMovimiento) AND (EN01FACT.Referencia = DT09FACT.Referencia)) LEFT JOIN DT01FACT ON (EN01FACT.CodMovimiento = DT01FACT.CodMovimiento) AND (EN01FACT.Referencia = DT01FACT.Referencia)) LEFT JOIN DT03FACT ON (EN01FACT.CodMovimiento = DT03FACT.CodMovimiento) AND (EN01FACT.Referencia = DT03FACT.Referencia)
WHERE (EN01FACT.CodMovimiento = 'OMM' or  EN01FACT.CodMovimiento = 'OMP')  AND
EN01FACT.Estado &lt;&gt; '2'
GROUP BY EN01FACT.CodMovimiento, 
         EN01FACT.Referencia,
         EN01FACT.FechaMov,
         EN01FACT.NombreClienteProveedor,
         EN01FACT.Estado, 
         EN01FACT.FechaFirma,
         DT09FACT.FechaCompromiso,
         DT09FACT.GrupoODC
ORDER BY     DT09FACT.GrupoODC ASC,
                      EN01FACT.Estado
                       
</SQLRaw></SQL><QueryColumns><QueryColumn><Name>CodMovimiento</Name><TableName>EN01FACT</TableName><ColumnName>CodMovimiento</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML>6%</ColumnWidthHTML><column_title>Tipo</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>Referencia</Name><TableName>EN01FACT</TableName><ColumnName>Referencia</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML>8%</ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>FechaMov</Name><TableName>EN01FACT</TableName><ColumnName>FechaMov</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML>10%</ColumnWidthHTML><column_title>Fecha</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>NombreClienteProveedor</Name><TableName>EN01FACT</TableName><ColumnName>NombreClienteProveedor</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML>38%</ColumnWidthHTML><column_title>Proveedor</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>Estado</Name><TableName>EN01FACT</TableName><ColumnName>Estado</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>FechaCompromiso</Name><TableName>DT09FACT</TableName><ColumnName>FechaCompromiso</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>GrupoODC</Name><TableName>DT09FACT</TableName><ColumnName>GrupoODC</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Grupo:</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>TotalODC</Name><TableName></TableName><ColumnName>Sum((dt01fact.cantidad*dt01fact.preunitario)) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>FechaFirma</Name><TableName>EN01FACT</TableName><ColumnName>FechaFirma</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML>10%</ColumnWidthHTML><column_title>Fecha A.</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>TotalODCRest</Name><TableName></TableName><ColumnName>Sum(( (dt01fact.cantidad-dt01fact.cantidadOrden) *dt01fact.preunitario)) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>totalOdcServicio</Name><TableName></TableName><ColumnName>Sum((dt03fact.preciounitario*dt03fact.cantidad )) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>totalOdcServicioRest</Name><TableName></TableName><ColumnName>Sum((dt03fact.preciounitario*(dt03fact.cantidad - dt03fact.cantidadOrden) )) AS</ColumnName><ColumnType>char</ColumnType><ColumnLength>30</ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title></column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>etiquetaaprobar</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Aprobada </column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>etiquetaporaprobar</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>hide</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>left</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML></ColumnWidthHTML><column_title>Por Aprobar</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>EstadoODC</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>center</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML>12%</ColumnWidthHTML><column_title>Estado</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>MontoODC</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML>13%</ColumnWidthHTML><column_title>Monto ODC</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn><QueryColumn><Name>MontoRestante</Name><TableName></TableName><ColumnName></ColumnName><ColumnType></ColumnType><ColumnLength></ColumnLength><Format><column_display>show</column_display><content_type>plain</content_type><ColumnStartPDF></ColumnStartPDF><justify>right</justify><ColumnWidthPDF></ColumnWidthPDF><ColumnWidthHTML>13%</ColumnWidthHTML><column_title>MontoRestanteODC</column_title><tooltip></tooltip><group_header_label>0</group_header_label><group_header_label_xpos></group_header_label_xpos><group_header_data_xpos></group_header_data_xpos><group_trailer_label>0</group_trailer_label></Format></QueryColumn></QueryColumns><OrderColumns></OrderColumns><PreSQLS></PreSQLS></Query><Assignments><Assignment><AssignName>MontoODC</AssignName><AssignNameNew></AssignNameNew><Expression>number_format( ({CodMovimiento}=='OMM')?{totalOdcServicio}:{TotalODC},2,',','.')</Expression><Condition></Condition></Assignment><Assignment><AssignName>MontoRestante</AssignName><AssignNameNew></AssignNameNew><Expression>number_format( ({CodMovimiento}=='OMM')?{totalOdcServicioRest}:{TotalODCRest},2,',','.')</Expression><Condition></Condition></Assignment><Assignment><AssignName>EstadoODC</AssignName><AssignNameNew></AssignNameNew><Expression>({Estado}==0)?'POR APROBAR':'APROBADO'</Expression><Condition></Condition></Assignment><Assignment><AssignName>FechaFirma</AssignName><AssignNameNew></AssignNameNew><Expression>({Estado}=='0')?' ':{FechaFirma}</Expression><Condition></Condition></Assignment><Assignment><AssignName>FechaFirma</AssignName><AssignNameNew></AssignNameNew><Expression>date(&quot;d/m/Y&quot;, strtotime({FechaFirma}))</Expression><Condition></Condition></Assignment><Assignment><AssignName>FechaMov</AssignName><AssignNameNew></AssignNameNew><Expression>date(&quot;d/m/Y&quot;, strtotime({FechaMov}))</Expression><Condition></Condition></Assignment></Assignments><Criteria></Criteria><Output><PageHeaders></PageHeaders><PageFooters></PageFooters><DisplayOrders><DisplayOrder><ColumnName>CodMovimiento</ColumnName><OrderNumber>1</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>NombreClienteProveedor</ColumnName><OrderNumber>2</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>Referencia</ColumnName><OrderNumber>3</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>FechaMov</ColumnName><OrderNumber>4</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>Estado</ColumnName><OrderNumber>5</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>FechaCompromiso</ColumnName><OrderNumber>6</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>GrupoODC</ColumnName><OrderNumber>7</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>TotalODC</ColumnName><OrderNumber>8</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>TotalODCRest</ColumnName><OrderNumber>9</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>totalOdcServicio</ColumnName><OrderNumber>10</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>totalOdcServicioRest</ColumnName><OrderNumber>11</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>FechaFirma</ColumnName><OrderNumber>12</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>etiquetaaprobar</ColumnName><OrderNumber>13</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>etiquetaporaprobar</ColumnName><OrderNumber>14</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>EstadoODC</ColumnName><OrderNumber>15</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>MontoODC</ColumnName><OrderNumber>16</OrderNumber></DisplayOrder><DisplayOrder><ColumnName>MontoRestante</ColumnName><OrderNumber>17</OrderNumber></DisplayOrder></DisplayOrders><Groups><Group><GroupName>GrupoODC</GroupName><BeforeGroupHeader>blankline</BeforeGroupHeader><AfterGroupHeader>blankline</AfterGroupHeader><BeforeGroupTrailer>blankline</BeforeGroupTrailer><AfterGroupTrailer>blankline</AfterGroupTrailer><GroupHeaders><GroupHeader><GroupHeaderColumn>GrupoODC</GroupHeaderColumn><GroupHeaderCustom></GroupHeaderCustom><ShowInHTML>yes</ShowInHTML><ShowInPDF>yes</ShowInPDF></GroupHeader></GroupHeaders><GroupTrailers></GroupTrailers></Group></Groups><Graphs></Graphs></Output></EntryForm></ReportQuery></Report>